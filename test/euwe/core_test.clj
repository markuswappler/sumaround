(ns euwe.core-test
  (:use clojure.test
        euwe.core))

(deftest test-round-robin
  (let [rr (fn [n] (set (round-robin (range 1 (inc n)))))]
    (is (= #{} 
           (rr 1)))
    (is (= #{[1 2]} 
           (rr 2)))
    (is (= #{[2 3] 
             [1 2] 
             [3 1]} 
           (rr 3)))
    (is (= #{[1 4] [2 3] 
             [4 3] [1 2] 
             [2 4] [3 1]} 
           (rr 4)))
    (is (= #{[2 5] [3 4] 
             [5 3] [1 2]
             [3 1] [4 5]
             [1 4] [2 3]
             [4 2] [5 1]}
           (rr 5)))
    (is (= #{[1 6] [2 5] [3 4]
             [6 4] [5 3] [1 2]
             [2 6] [3 1] [4 5]
             [6 5] [1 4] [2 3]
             [3 6] [4 2] [5 1]}
           (rr 6)))
    (is (= #{[2 7] [3 6] [4 5]
             [6 4] [7 3] [1 2]
             [3 1] [4 7] [5 6]
             [7 5] [1 4] [2 3]
             [4 2] [5 1] [6 7]
             [1 6] [2 5] [3 4]
             [5 3] [6 2] [7 1]}
           (rr 7)))
    (is (= #{[1 8] [2 7] [3 6] [4 5]
             [8 5] [6 4] [7 3] [1 2]
             [2 8] [3 1] [4 7] [5 6]
             [8 6] [7 5] [1 4] [2 3]
             [3 8] [4 2] [5 1] [6 7]
             [8 7] [1 6] [2 5] [3 4]
             [4 8] [5 3] [6 2] [7 1]}
           (rr 8)))))  